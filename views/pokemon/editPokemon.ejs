<% const toCapital = (name) => { 
    return name[0].toUpperCase() + name.substring(1); 
}%>


<h1>Edit Pokemon</h1>
<form action="/pokemon/<%= id %>/edit?_method=PUT" method="POST">
    <label for="pokemonName">Pokemons Name</label>
    <input type="text" name="pokemonName" id="pokemonName" value="<%= toCapital(pokemon.pokemon_name) %>" required minlength="1">
    <br>
    <br>
    <label for="pokemonType">Pokemons Type</label>
    <select name="pokemonType" id="pokemonType" required>
        <% types.forEach((type) => { %>
            <% if (pokemon.type_name === type.type_name) { %>
                <option selected="selected" value="<%= type.id %>"><%= toCapital(type.type_name) %></option>
                <%} else { %>
                    <option value="<%= type.id %>"><%= toCapital(type.type_name) %></option>
                    <%} %>
        <% }) %>
    </select>
    <br>
    <br>
    <label for="pokemonTrainer">Pokemons Trainer</label>
    <select name="pokemonTrainer" id="pokemonTrainer">
        <option value="">None</option>
        <% trainers.forEach((trainer) => { %>
            <% if (pokemon.trainer_name === trainer.trainer_name) { %>
                <option selected="selected" value="<%= trainer.id %>"><%= toCapital(trainer.trainer_name) %></option>
            <%} else { %>
                <option value="<%= trainer.id %>"><%= toCapital(trainer.trainer_name) %></option>
            <%} %>
        <% }) %>
    </select>
    <br>
    <br>
    <a href="/pokemon">Cancel</a>
    <button>Update</button>
</form>